<h1>Signals</h1>

<div class="page-wrapper">
    <div class="all">
        <div class="p-4 bg-gray-200 my-6 rounded-md">
            <div class="input-group mb-2">
                <label for="title">Search users by name </label>
                <input type="text" 
                    class="form-input px-4 py-3 rounded-md" 
                    [value]="searchUser()"
                    (keyup)="onSearchInputChange($event)"
                />
            </div>
        </div>
        
        <div *ngIf="searchUser() !== ''">
            Search user: {{ searchUser() }}
        </div>
        
        <table class="table-auto border border-gray-200 w-full p-2" id="usersTable">
            <thead class="text-left border-b-4 border-gray-200">
                <tr class="border-b-4 border-gray-200">
                    <th>#</th>
                    <td>id</td>
                    <th>name</th>
                </tr>
            </thead>
            <tr *ngFor="let user of searchResults(); let i = index" (click)="selectUser(user)">
                <td>{{ i }}</td>
                <td>{{ user.id }}</td>
                <td>{{ user.name }}</td>
            </tr>
        </table>
        
        <div class="p-3 bg-gray-200 my-6 rounded-md">
            Total rows: <strong>{{ totalUsers() }}</strong>
        </div>
    </div>
    <div class="selected p-4 bg-gray-200 my-6 rounded-md ml-4" *ngIf="service.selectedUser() !== ''">
        User: <h2 class="font-bold" style="font-size: 2rem;">{{ details?.name }}</h2><br/><br/>
        Area of expertise: {{ details?.area }}<br/>
        Technologies: {{ details?.technologies }}<br/><br/>
        Contact: <a [href]="'tel:' + details?.phone" class="text-blue-500">{{ details?.phone }}</a>
    </div>
</div>